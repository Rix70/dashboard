{% extends "base.html" %}

{% block title %}Регистрация{% endblock %}

{% block content %}
    <div class="content-container login-container">
        <h2 class="mb-3 text-center">Регистрация</h2>
        <form method="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <div class="form-floating mb-3">
                <input type="text" class="form-control form-control-sm" id="floatingUsername" placeholder="username" name="username" required minlength="3" maxlength="20" pattern="[a-zA-Z0-9_]+">
                <label for="floatingUsername">Имя пользователя</label>
                <div class="form-text">От 3 до 20 символов, только латинские буквы, цифры и знак подчеркивания</div>
            </div>
            <div class="form-floating mb-3">
                <input type="password" class="form-control form-control-sm" id="floatingPassword" placeholder="password" name="password" required minlength="3">
                <label for="floatingPassword">Пароль</label>
                <div class="form-text">Минимум 3 символа</div>
            </div>
            <div class="form-floating mb-3">
                <input type="password" class="form-control form-control-sm" id="floatingPasswordConfirm" placeholder="confirm password" name="password_confirm" required>
                <label for="floatingPasswordConfirm">Подтвердите пароль</label>
            </div>
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-danger mb-3">{{ message }}</div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            <button type="submit" class="btn btn-primary btn-sm w-100">Зарегистрироваться</button>
            <div class="text-center mt-3">
                Уже есть аккаунт? <a href="{{ url_for('auth.login') }}">Войти</a>
            </div>
        </form>
    </div>
{% endblock %}